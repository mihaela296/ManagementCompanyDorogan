<Page x:Class="ManagementCompanyDorogan.ReportsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Отчёты" 
      Background="White"
      FontFamily="Segoe UI"
      Loaded="Page_Loaded">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Заголовок -->
        <Border Grid.Row="0" Background="#6C757D" Padding="15">
            <TextBlock Text="Отчёты по оплате" 
                       FontSize="22" FontWeight="Bold" Foreground="White"
                       HorizontalAlignment="Center"/>
        </Border>

        <!-- Таблица -->
        <DataGrid x:Name="dgReports" Grid.Row="1" Margin="10"
                  AutoGenerateColumns="True" IsReadOnly="True"
                  SelectionMode="Single" AlternatingRowBackground="#F9F9F9"/>

        <!-- Статистика -->
        <Border Grid.Row="2" Background="#F8F9FA" Padding="15">
            <StackPanel>
                <WrapPanel HorizontalAlignment="Center" Margin="0,0,0,10">
                    <TextBlock x:Name="txtTotal" Text="Всего: 0 записей" 
                               Margin="10,0" FontWeight="SemiBold" FontSize="14"/>
                    <TextBlock x:Name="txtSum" Text="Сумма: 0 ₽" 
                               Margin="10,0" FontWeight="SemiBold" FontSize="14"/>
                    <TextBlock x:Name="txtPaid" Text="Оплачено: 0" 
                               Margin="10,0" FontWeight="SemiBold" FontSize="14" Foreground="Green"/>
                    <TextBlock x:Name="txtDebts" Text="Долги: 0" 
                               Margin="10,0" FontWeight="SemiBold" FontSize="14" Foreground="Red"/>
                </WrapPanel>

                <!-- Кнопка Обновить -->
                <Button Content="Обновить данные" 
                        Width="200" Height="40" FontSize="14" FontWeight="SemiBold"
                        Background="#67BA80" Foreground="White" BorderThickness="0"
                        HorizontalAlignment="Center" Click="Refresh_Click" Cursor="Hand"
                        Padding="15,8">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="border" Background="{TemplateBinding Background}">
                                <ContentPresenter HorizontalAlignment="Center" 
                                                VerticalAlignment="Center" 
                                                Margin="{TemplateBinding Padding}"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="border" Property="Background" Value="#5AA66F"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
            </StackPanel>
        </Border>
    </Grid>
</Page>